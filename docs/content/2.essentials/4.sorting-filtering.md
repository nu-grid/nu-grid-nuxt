---
title: Sorting & Filtering
description: Sort and filter data in NuGrid.
navigation:
  icon: i-lucide-arrow-up-down
---

NuGrid provides built-in sorting and filtering capabilities powered by TanStack Table.

:component-example{name="nu-grid-sorting-example"}

## Sorting

### Basic Sorting

Sorting is enabled by default. Click column headers to sort:

```vue
<template>
  <NuGrid :data="data" :columns="columns" />
</template>
```

### Sort State

Track and control sort state with v-model:

```vue
<script setup lang="ts">
import type { SortingState } from '@tanstack/vue-table'

const sorting = ref<SortingState>([])

// Pre-sort by name ascending
const sorting = ref<SortingState>([
  { id: 'name', desc: false }
])
</script>

<template>
  <NuGrid
    v-model:sorting="sorting"
    :data="data"
    :columns="columns"
  />
</template>
```

### Multi-Column Sorting

Hold Shift and click to sort by multiple columns:

```vue
<template>
  <NuGrid
    v-model:sorting="sorting"
    :data="data"
    :columns="columns"
  />
</template>
```

### Disable Sorting Per Column

```ts
const columns: NuGridColumn<User>[] = [
  {
    accessorKey: 'actions',
    header: 'Actions',
    enableSorting: false,  // Disable sorting for this column
  },
]
```

### Custom Sort Function

Provide a custom sort function for complex sorting:

```ts
const columns: NuGridColumn<User>[] = [
  {
    accessorKey: 'status',
    header: 'Status',
    sortingFn: (rowA, rowB, columnId) => {
      const order = { active: 0, pending: 1, inactive: 2 }
      return order[rowA.original.status] - order[rowB.original.status]
    },
  },
]
```

### Sort Changed Event

Listen to sort changes:

```vue
<script setup lang="ts">
function onSortChanged(event) {
  console.log('Sort changed:', event.sorting)
}
</script>

<template>
  <NuGrid
    :data="data"
    :columns="columns"
    @sort-changed="onSortChanged"
  />
</template>
```

## Filtering

### Column Filters

Set up column filters:

```vue
<script setup lang="ts">
import type { ColumnFiltersState } from '@tanstack/vue-table'

const columnFilters = ref<ColumnFiltersState>([])
</script>

<template>
  <NuGrid
    v-model:column-filters="columnFilters"
    :data="data"
    :columns="columns"
  />
</template>
```

### External Filter Controls

Build your own filter UI:

```vue
<script setup lang="ts">
const gridRef = useTemplateRef('grid')
const emailFilter = ref('')

watch(emailFilter, (value) => {
  gridRef.value?.tableApi?.getColumn('email')?.setFilterValue(value)
})
</script>

<template>
  <div class="mb-4">
    <UInput
      v-model="emailFilter"
      placeholder="Filter by email..."
      icon="i-lucide-search"
    />
  </div>

  <NuGrid
    ref="grid"
    v-model:column-filters="columnFilters"
    :data="data"
    :columns="columns"
  />
</template>
```

### Filter Functions

Specify the filter function per column:

```ts
const columns: NuGridColumn<User>[] = [
  {
    accessorKey: 'status',
    header: 'Status',
    filterFn: 'equals',  // Exact match filter
  },
  {
    accessorKey: 'name',
    header: 'Name',
    filterFn: 'includesString',  // Contains filter (default)
  },
]
```

### Available Filter Functions

| Function | Description |
|----------|-------------|
| `includesString` | Case-insensitive contains |
| `includesStringSensitive` | Case-sensitive contains |
| `equalsString` | Case-insensitive equals |
| `equals` | Strict equality |
| `arrIncludes` | Value in array |
| `arrIncludesAll` | All values in array |
| `arrIncludesSome` | Some values in array |
| `weakEquals` | Loose equality |
| `inNumberRange` | Within numeric range |

### Custom Filter Function

```ts
const columns: NuGridColumn<User>[] = [
  {
    accessorKey: 'salary',
    header: 'Salary',
    filterFn: (row, columnId, filterValue) => {
      const salary = row.getValue(columnId) as number
      const [min, max] = filterValue as [number, number]
      return salary >= min && salary <= max
    },
  },
]
```

### Filter Changed Event

```vue
<script setup lang="ts">
function onFilterChanged(event) {
  console.log('Filters changed:', event.columnFilters)
}
</script>

<template>
  <NuGrid
    :data="data"
    :columns="columns"
    @filter-changed="onFilterChanged"
  />
</template>
```

## Global Filter

Filter across all columns:

```vue
<script setup lang="ts">
const globalFilter = ref('')
</script>

<template>
  <div class="mb-4">
    <UInput
      v-model="globalFilter"
      placeholder="Search all columns..."
      icon="i-lucide-search"
    />
  </div>

  <NuGrid
    v-model:global-filter="globalFilter"
    :data="data"
    :columns="columns"
  />
</template>
```

## Example: Filter Toolbar

Build a complete filter toolbar:

```vue
<script setup lang="ts">
const gridRef = useTemplateRef('grid')
const searchQuery = ref('')
const statusFilter = ref('all')

const statusOptions = [
  { label: 'All', value: 'all' },
  { label: 'Active', value: 'active' },
  { label: 'Pending', value: 'pending' },
  { label: 'Inactive', value: 'inactive' },
]

watch(statusFilter, (value) => {
  const statusColumn = gridRef.value?.tableApi?.getColumn('status')
  if (value === 'all') {
    statusColumn?.setFilterValue(undefined)
  } else {
    statusColumn?.setFilterValue(value)
  }
})
</script>

<template>
  <div class="mb-4 flex gap-4">
    <UInput
      v-model="searchQuery"
      placeholder="Search by email..."
      icon="i-lucide-search"
      class="w-64"
      @update:model-value="gridRef?.tableApi?.getColumn('email')?.setFilterValue($event)"
    />

    <USelect
      v-model="statusFilter"
      :items="statusOptions"
      placeholder="Filter status"
      class="w-40"
    />

    <UButton
      color="neutral"
      variant="outline"
      @click="columnFilters = []; statusFilter = 'all'; searchQuery = ''"
    >
      Clear Filters
    </UButton>
  </div>

  <NuGrid
    ref="grid"
    v-model:column-filters="columnFilters"
    :data="data"
    :columns="columns"
  />
</template>
```

## Server-Side Sorting & Filtering

For server-side operations, disable client-side processing:

```vue
<script setup lang="ts">
const sorting = ref([])
const columnFilters = ref([])

// Watch for changes and fetch from server
watch([sorting, columnFilters], async () => {
  await fetchData({
    sorting: sorting.value,
    filters: columnFilters.value,
  })
}, { deep: true })
</script>

<template>
  <NuGrid
    v-model:sorting="sorting"
    v-model:column-filters="columnFilters"
    :data="data"
    :columns="columns"
    manual-sorting
    manual-filtering
  />
</template>
```

## Next Steps

::card-group
  :::card
  ---
  icon: i-lucide-radio
  title: Events
  to: /advanced/events
  ---
  Learn about all grid events.
  :::

  :::card
  ---
  icon: i-lucide-pencil
  title: Cell Editing
  to: /data-editing/cell-editing
  ---
  Enable inline cell editing.
  :::
::

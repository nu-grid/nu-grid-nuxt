---
title: Column Sizing
description: Resize and auto-size columns in NuGrid.
navigation:
  icon: i-lucide-move
---

NuGrid provides flexible column sizing with manual resizing, auto-sizing, and programmatic control.

## Column Resize

Enable column resizing with the `resize-columns` prop:

```vue
<template>
  <NuGrid
    :data="data"
    :columns="columns"
    resize-columns
  />
</template>
```

Users can drag column borders to resize.

## Column Size Configuration

Set column widths in the column definition:

```ts
const columns: NuGridColumn<User>[] = [
  {
    accessorKey: 'id',
    header: 'ID',
    size: 60,       // Default width
    minSize: 40,    // Minimum when resizing
    maxSize: 100,   // Maximum when resizing
  },
  {
    accessorKey: 'name',
    header: 'Name',
    size: 200,
    minSize: 100,
    // No maxSize = unlimited
  },
  {
    accessorKey: 'email',
    header: 'Email',
    size: 250,
    enableResizing: false,  // Disable resizing for this column
  },
]
```

## Locked Size

Use `lockSize` to fix a column to an exact pixel width. This is a shorthand that sets `size`, `minSize`, and `maxSize` all to the same value, preventing the column from being resized or flexed:

```ts
const columns: NuGridColumn<User>[] = [
  {
    accessorKey: 'id',
    header: 'ID',
    lockSize: 60,  // Equivalent to: size: 60, minSize: 60, maxSize: 60
  },
  {
    accessorKey: 'name',
    header: 'Name',
    size: 200,  // Flexible column
  },
]
```

This is useful for columns that should always maintain a fixed width, such as ID columns, checkbox columns, or icon columns.

## Column Sizing State

Track column sizes with v-model:

```vue
<script setup lang="ts">
const columnSizing = ref<Record<string, number>>({})
</script>

<template>
  <NuGrid
    v-model:column-sizing="columnSizing"
    :data="data"
    :columns="columns"
    resize-columns
  />

  <pre>{{ columnSizing }}</pre>
</template>
```

## Resize Modes

Configure how resizing affects other columns:

```vue
<template>
  <NuGrid
    :data="data"
    :columns="columns"
    resize-columns
    :column-sizing-options="{
      columnResizeMode: 'onChange',  // or 'onEnd'
    }"
  />
</template>
```

| Mode | Description |
|------|-------------|
| `onChange` | Resize updates during drag |
| `onEnd` | Resize updates when drag ends |

## Auto-Sizing

NuGrid can automatically size columns to fit content.

### Auto-Size on Mount

Size columns to fit content when the grid loads:

```vue
<template>
  <NuGrid
    :data="data"
    :columns="columns"
    :layout="{
      autoSize: 'content',  // or 'fill'
    }"
  />
</template>
```

### Auto-Size Strategies

| Strategy | Description |
|----------|-------------|
| `content` | Size each column to fit its content exactly |
| `fill` | Size to content, then scale proportionally to fill container width |
| `false` | No auto-sizing (use column `size` definitions) |

::callout{icon="i-lucide-info" color="primary"}
When `autoSize: 'fill'` is set, the grid automatically applies `w-full` to ensure columns fill the container width. No additional configuration is needed.
::

### Manual Auto-Size

Trigger auto-sizing programmatically:

```vue
<script setup lang="ts">
const gridRef = useTemplateRef('grid')

function autoSizeColumns() {
  gridRef.value?.autoSizeColumns('content')
}

function fitToGrid() {
  gridRef.value?.autoSizeColumns('fill')
}
</script>

<template>
  <div class="mb-4 flex gap-2">
    <UButton @click="autoSizeColumns">Fit Content</UButton>
    <UButton @click="fitToGrid">Fit Grid</UButton>
  </div>

  <NuGrid ref="grid" :data="data" :columns="columns" resize-columns />
</template>
```

## Grid Width Modes

### Full Width

Make the grid expand to fill its container width:

```vue
<template>
  <NuGrid
    :data="data"
    :columns="columns"
    :ui="{ base: 'w-full' }"
  />
</template>
```

When using full width with auto-sizing, columns will scale to fill the available space.

### Content Width

By default, the grid sizes to fit its content:

```vue
<template>
  <NuGrid
    :data="data"
    :columns="columns"
    :ui="{ base: 'w-max' }"
  />
</template>
```

### Resize Mode

Controls how column resizing affects the grid width:

```vue
<template>
  <NuGrid
    :data="data"
    :columns="columns"
    resize-columns
    :layout="{
      resizeMode: 'shift',
    }"
  />
</template>
```

| Setting | Behavior |
|---------|----------|
| `resizeMode: 'shift'` | Grid width stays fixed; resizing one column shifts adjacent columns (default) |
| `resizeMode: 'expand'` | Grid width adjusts to total column widths |

### Combining Options

Example with `fill` auto-sizing (full width is applied automatically):

```vue
<template>
  <NuGrid
    :data="data"
    :columns="columns"
    :layout="{
      autoSize: 'fill',
      resizeMode: 'shift',
    }"
  />
</template>
```

## Flex Columns

Create columns that grow to fill available space:

```ts
const columns: NuGridColumn<User>[] = [
  {
    accessorKey: 'id',
    header: 'ID',
    size: 60,  // Fixed width
  },
  {
    accessorKey: 'name',
    header: 'Name',
    size: 200,  // Fixed width
  },
  {
    accessorKey: 'description',
    header: 'Description',
    // No size = flex to fill remaining space
  },
]
```

## Column Width Persistence

Save and restore column widths:

```vue
<script setup lang="ts">
const columnSizing = ref(
  JSON.parse(localStorage.getItem('gridColumnSizes') || '{}')
)

watch(columnSizing, (sizes) => {
  localStorage.setItem('gridColumnSizes', JSON.stringify(sizes))
}, { deep: true })
</script>

<template>
  <NuGrid
    v-model:column-sizing="columnSizing"
    :data="data"
    :columns="columns"
    resize-columns
  />
</template>
```

Or use state persistence:

```vue
<template>
  <NuGrid
    :data="data"
    :columns="columns"
    resize-columns
    :state-persistence="{
      key: 'my-grid',
      storage: 'local',
    }"
  />
</template>
```

## Double-Click to Auto-Size

Users can double-click a column border to auto-size that column:

```vue
<template>
  <NuGrid
    :data="data"
    :columns="columns"
    resize-columns
    :column-sizing-options="{
      enableColumnAutoSize: true,
    }"
  />
</template>
```

## Styling Resize Handles

Customize the resize handle appearance:

```vue
<template>
  <NuGrid
    :data="data"
    :columns="columns"
    resize-columns
    :ui="{
      th: '[&_.resize-handle]:bg-primary [&_.resize-handle]:opacity-0 [&:hover_.resize-handle]:opacity-100',
    }"
  />
</template>
```

## Example: Complete Column Sizing

```vue
<script setup lang="ts">
const gridRef = useTemplateRef('grid')
const columnSizing = ref({})

const autoSizeStrategy = ref<'content' | 'fill' | false>('fill')

function applyAutoSize() {
  if (autoSizeStrategy.value) {
    gridRef.value?.autoSizeColumns(autoSizeStrategy.value)
  }
}

function resetSizes() {
  columnSizing.value = {}
}

const columns: NuGridColumn<User>[] = [
  { accessorKey: 'id', header: 'ID', size: 60, minSize: 40, maxSize: 100 },
  { accessorKey: 'name', header: 'Name', size: 150, minSize: 100 },
  { accessorKey: 'email', header: 'Email', size: 200, minSize: 150 },
  { accessorKey: 'department', header: 'Department', size: 150 },
  { accessorKey: 'role', header: 'Role', size: 150 },
]
</script>

<template>
  <div class="space-y-4">
    <div class="flex items-center gap-4">
      <USelect
        v-model="autoSizeStrategy"
        :items="[
          { label: 'Content Width', value: 'content' },
          { label: 'Fill Container', value: 'fill' },
          { label: 'Manual', value: false },
        ]"
        class="w-48"
      />

      <UButton v-if="autoSizeStrategy" @click="applyAutoSize">
        Apply
      </UButton>

      <UButton variant="outline" @click="resetSizes">
        Reset
      </UButton>
    </div>

    <NuGrid
      ref="grid"
      v-model:column-sizing="columnSizing"
      :data="data"
      :columns="columns"
      resize-columns
      :layout="{ autoSize: autoSizeStrategy }"
      :column-sizing-options="{ columnResizeMode: 'onChange' }"
    />

    <div class="text-sm text-muted">
      Current sizes: {{ JSON.stringify(columnSizing) }}
    </div>
  </div>
</template>
```

## Next Steps

::card-group
  :::card
  ---
  icon: i-lucide-layers
  title: Grouping
  to: /layout/grouping
  ---
  Group rows by columns.
  :::

  :::card
  ---
  icon: i-lucide-palette
  title: Theming
  to: /theming/themes
  ---
  Customize the grid appearance.
  :::
::
